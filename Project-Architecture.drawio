<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-07-03T10:45:00.000Z" agent="5.0" etag="XYZ789" version="21.6.5" type="device">
  <diagram name="Project Architecture" id="project-architecture">
    <mxGraphModel dx="1800" dy="1200" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1400" pageHeight="1000" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="Arquitectura Completa del Proyecto - Spring Boot JWT Security Demo" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#1f497d;" vertex="1" parent="1">
          <mxGeometry x="350" y="10" width="700" height="40" as="geometry" />
        </mxCell>
        
        <!-- External Layer (Clients) -->
        <mxCell id="clientLayer" value="CAPA CLIENTE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="50" y="70" width="200" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="webClient" value="ðŸŒ Cliente Web&#xa;(Browser/SPA)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="70" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="mobileClient" value="ðŸ“± App MÃ³vil&#xa;(iOS/Android)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="160" y="100" width="80" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="apiClient" value="ðŸ”§ Cliente API&#xa;(Postman/cURL)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="115" y="160" width="80" height="50" as="geometry" />
        </mxCell>
        
        <!-- Spring Boot Application Layer -->
        <mxCell id="springBootLayer" value="APLICACIÃ“N SPRING BOOT" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="320" y="70" width="760" height="620" as="geometry" />
        </mxCell>
        
        <!-- Security Layer -->
        <mxCell id="securityLayer" value="CAPA DE SEGURIDAD (Spring Security)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="100" width="720" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="securityConfig" value="SecurityConfig&#xa;â€¢ CSRF disabled&#xa;â€¢ CORS config&#xa;â€¢ Stateless sessions&#xa;â€¢ JWT filter chain" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="360" y="130" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="jwtAuthFilter" value="JwtAuthFilter&#xa;â€¢ Intercepta requests&#xa;â€¢ Valida JWT token&#xa;â€¢ Establece contexto&#xa;â€¢ Before auth filter" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="500" y="130" width="120" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="userDetailsService" value="UserDetailsServiceImpl&#xa;â€¢ Implementa UserDetailsService&#xa;â€¢ Carga user por email&#xa;â€¢ Convierte a UserDetails" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="640" y="130" width="140" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="jwtHelper" value="JwtHelper&#xa;â€¢ Genera tokens&#xa;â€¢ Valida tokens&#xa;â€¢ Extrae claims&#xa;â€¢ Maneja expiraciÃ³n" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="800" y="130" width="120" height="70" as="geometry" />
        </mxCell>
        
        <!-- Controller Layer -->
        <mxCell id="controllerLayer" value="CAPA DE CONTROLADORES (REST API)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="240" width="720" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="authController" value="AuthController&#xa;/api/auth/*&#xa;â€¢ POST /login&#xa;â€¢ POST /signup&#xa;â€¢ Maneja autenticaciÃ³n" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="360" y="270" width="140" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="protectedController" value="ProtectedController&#xa;/api/protected/*&#xa;â€¢ GET /hello&#xa;â€¢ GET /user&#xa;â€¢ Recursos protegidos" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="520" y="270" width="140" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="globalExceptionHandler" value="@ControllerAdvice&#xa;GlobalExceptionHandler&#xa;â€¢ Manejo centralizado&#xa;â€¢ Respuestas consistentes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="680" y="270" width="140" height="60" as="geometry" />
        </mxCell>
        
        <!-- DTO Layer -->
        <mxCell id="dtoLayer" value="CAPA DE TRANSFERENCIA DE DATOS (DTOs)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="360" width="720" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="loginRequest" value="LoginRequest&#xa;(Java Record)&#xa;â€¢ email&#xa;â€¢ password" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f8f8;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="360" y="390" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="signupRequest" value="SignupRequest&#xa;(Java Record)&#xa;â€¢ name, email&#xa;â€¢ password" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f8f8;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="480" y="390" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="loginResponse" value="LoginResponse&#xa;(Java Record)&#xa;â€¢ token, email&#xa;â€¢ name" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f8f8;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="600" y="390" width="100" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="apiResponse" value="ApiResponse&lt;T&gt;&#xa;(Generic Record)&#xa;â€¢ success, message&#xa;â€¢ data, timestamp" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8f8f8;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="720" y="390" width="110" height="40" as="geometry" />
        </mxCell>
        
        <!-- Service Layer -->
        <mxCell id="serviceLayer" value="CAPA DE SERVICIOS (LÃ³gica de Negocio)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="460" width="720" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="userService" value="UserService&#xa;â€¢ Registro de usuarios&#xa;â€¢ ValidaciÃ³n de credenciales&#xa;â€¢ EncriptaciÃ³n de passwords&#xa;â€¢ LÃ³gica de negocio" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="360" y="490" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="passwordEncoder" value="PasswordEncoder&#xa;(BCrypt)&#xa;â€¢ Hash passwords&#xa;â€¢ VerificaciÃ³n segura" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="540" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="validationService" value="Validation&#xa;â€¢ Bean Validation&#xa;â€¢ Custom validators&#xa;â€¢ Business rules" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0f0;strokeColor=#808080;" vertex="1" parent="1">
          <mxGeometry x="680" y="490" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Repository Layer -->
        <mxCell id="repositoryLayer" value="CAPA DE ACCESO A DATOS (Repository)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="580" width="720" height="100" as="geometry" />
        </mxCell>
        
        <mxCell id="userRepository" value="UserRepository&#xa;â€¢ JdbcClient implementation&#xa;â€¢ findByEmail()&#xa;â€¢ save() user&#xa;â€¢ Custom SQL queries" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="360" y="610" width="160" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="jdbcClient" value="JdbcClient&#xa;(Spring 6.1+)&#xa;â€¢ Modern JDBC API&#xa;â€¢ Functional queries&#xa;â€¢ Type-safe mapping" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="540" y="610" width="120" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="transactionManager" value="@Transactional&#xa;Transaction Manager&#xa;â€¢ ACID properties&#xa;â€¢ Rollback support" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="680" y="610" width="120" height="60" as="geometry" />
        </mxCell>
        
        <!-- Model Layer -->
        <mxCell id="modelLayer" value="CAPA DE MODELO (Entidades)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="340" y="700" width="350" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="userModel" value="User (Java Record)&#xa;â€¢ id, name, email&#xa;â€¢ password, createdAt&#xa;â€¢ Immutable entity" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3cd;strokeColor=#ffc107;" vertex="1" parent="1">
          <mxGeometry x="360" y="730" width="150" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="userDetails" value="UserPrincipal&#xa;implements UserDetails&#xa;â€¢ Spring Security integration&#xa;â€¢ Authorities & roles" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff3cd;strokeColor=#ffc107;" vertex="1" parent="1">
          <mxGeometry x="530" y="730" width="150" height="40" as="geometry" />
        </mxCell>
        
        <!-- Database Layer -->
        <mxCell id="databaseLayer" value="CAPA DE BASE DE DATOS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="720" y="700" width="340" height="180" as="geometry" />
        </mxCell>
        
        <mxCell id="h2Database" value="ðŸ’¾ H2 Database&#xa;(Perfil DEV)&#xa;â€¢ In-memory&#xa;â€¢ Console web&#xa;â€¢ Auto-DDL" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="740" y="730" width="80" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="postgresDatabase" value="ðŸ˜ PostgreSQL&#xa;(Perfil PROD)&#xa;â€¢ Production DB&#xa;â€¢ Docker compose&#xa;â€¢ Persistent data" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="840" y="730" width="80" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="liquibase" value="ðŸ“‹ Liquibase&#xa;â€¢ Database migration&#xa;â€¢ Version control&#xa;â€¢ Changelog XML&#xa;â€¢ Profile-specific" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#4caf50;" vertex="1" parent="1">
          <mxGeometry x="940" y="730" width="100" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="dockerCompose" value="ðŸ³ Docker Compose&#xa;â€¢ PostgreSQL service&#xa;â€¢ Environment setup&#xa;â€¢ Local development" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#cce5ff;strokeColor=#0066cc;" vertex="1" parent="1">
          <mxGeometry x="740" y="820" width="120" height="50" as="geometry" />
        </mxCell>
        
        <!-- Configuration Layer -->
        <mxCell id="configLayer" value="CONFIGURACIÃ“N Y PERFILES" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1100" y="70" width="250" height="620" as="geometry" />
        </mxCell>
        
        <mxCell id="applicationProperties" value="application.properties&#xa;â€¢ ConfiguraciÃ³n base&#xa;â€¢ Perfiles activos&#xa;â€¢ Logging levels&#xa;â€¢ Common settings" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="100" width="130" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="devProperties" value="application-dev.properties&#xa;â€¢ H2 database&#xa;â€¢ Debug logging&#xa;â€¢ Hot reload&#xa;â€¢ Development tools" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="180" width="130" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="prodProperties" value="application-prod.properties&#xa;â€¢ PostgreSQL config&#xa;â€¢ Production logging&#xa;â€¢ Security hardening&#xa;â€¢ Performance tuning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="260" width="130" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="jwtConfig" value="JWT Configuration&#xa;â€¢ Secret key&#xa;â€¢ Expiration time&#xa;â€¢ Issuer&#xa;â€¢ Algorithm (HS256)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="340" width="130" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="corsConfig" value="CORS Configuration&#xa;â€¢ Allowed origins&#xa;â€¢ Allowed methods&#xa;â€¢ Credentials support&#xa;â€¢ Headers mapping" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="420" width="130" height="70" as="geometry" />
        </mxCell>
        
        <mxCell id="actuator" value="Spring Actuator&#xa;â€¢ Health checks&#xa;â€¢ Metrics&#xa;â€¢ Environment info&#xa;â€¢ Monitoring" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#ff6b6b;" vertex="1" parent="1">
          <mxGeometry x="1120" y="500" width="130" height="70" as="geometry" />
        </mxCell>
        
        <!-- Testing Layer -->
        <mxCell id="testingLayer" value="TESTING Y AUTOMATIZACIÃ“N" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="50" y="720" width="250" height="160" as="geometry" />
        </mxCell>
        
        <mxCell id="powershellScript" value="test-endpoints.ps1&#xa;â€¢ PowerShell automation&#xa;â€¢ Windows compatible&#xa;â€¢ API testing&#xa;â€¢ JSON validation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0ff;strokeColor=#6666ff;" vertex="1" parent="1">
          <mxGeometry x="70" y="750" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="bashScript" value="test-endpoints.sh&#xa;â€¢ Bash automation&#xa;â€¢ Linux/macOS&#xa;â€¢ cURL commands&#xa;â€¢ Cross-platform" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0ff;strokeColor=#6666ff;" vertex="1" parent="1">
          <mxGeometry x="180" y="750" width="100" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="junit" value="JUnit Tests&#xa;â€¢ Unit testing&#xa;â€¢ Integration tests&#xa;â€¢ Mock objects&#xa;â€¢ Test coverage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f0ff;strokeColor=#6666ff;" vertex="1" parent="1">
          <mxGeometry x="125" y="820" width="100" height="50" as="geometry" />
        </mxCell>
        
        <!-- Documentation -->
        <mxCell id="docsLayer" value="DOCUMENTACIÃ“N" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="320" y="900" width="760" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="readme" value="README.md&#xa;â€¢ Project overview&#xa;â€¢ Setup instructions&#xa;â€¢ API documentation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#ddd700;" vertex="1" parent="1">
          <mxGeometry x="340" y="930" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="testing" value="TESTING.md&#xa;â€¢ Test scenarios&#xa;â€¢ Script usage&#xa;â€¢ Validation steps" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#ddd700;" vertex="1" parent="1">
          <mxGeometry x="480" y="930" width="120" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="guide" value="GUIA-EXPLICACION.md&#xa;â€¢ Architecture guide&#xa;â€¢ Code explanation&#xa;â€¢ Best practices" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#ddd700;" vertex="1" parent="1">
          <mxGeometry x="620" y="930" width="140" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="diagrams" value="Diagramas DrawIO&#xa;â€¢ JWT flow&#xa;â€¢ Architecture&#xa;â€¢ Visual guides" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#ddd700;" vertex="1" parent="1">
          <mxGeometry x="780" y="930" width="120" height="40" as="geometry" />
        </mxCell>
        
        <!-- Main Flow Arrows -->
        <mxCell id="clientToSecurity" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=3;startArrow=classic;startFill=1;endArrow=classic;endFill=1;" edge="1" parent="1" source="clientLayer" target="securityLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="securityToController" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="securityLayer" target="controllerLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="controllerToService" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="controllerLayer" target="serviceLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="serviceToRepository" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="serviceLayer" target="repositoryLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="repositoryToModel" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="repositoryLayer" target="modelLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="modelToDatabase" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#0066cc;strokeWidth=2;endArrow=classic;endFill=1;" edge="1" parent="1" source="modelLayer" target="databaseLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Configuration Connections -->
        <mxCell id="configToSecurity" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff9900;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="configLayer" target="securityLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <mxCell id="configToDatabase" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#ff9900;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="configLayer" target="databaseLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Testing Connections -->
        <mxCell id="testingToController" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#009900;strokeWidth=2;endArrow=classic;endFill=1;dashed=1;" edge="1" parent="1" source="testingLayer" target="controllerLayer">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Architecture Notes -->
        <mxCell id="architectureNotes" value="ðŸ—ï¸ PATRONES ARQUITECTÃ“NICOS:&#xa;&#xa;ðŸ“‹ CAPAS (Layered Architecture):&#xa;â€¢ SeparaciÃ³n clara de responsabilidades&#xa;â€¢ Controller â†’ Service â†’ Repository â†’ Database&#xa;â€¢ Cada capa comunica solo con la siguiente&#xa;&#xa;ðŸ”’ SEGURIDAD (Security-First):&#xa;â€¢ JWT stateless authentication&#xa;â€¢ Spring Security filter chain&#xa;â€¢ Password encryption (BCrypt)&#xa;â€¢ CORS configuration&#xa;&#xa;ðŸ“¦ DEPENDENCY INJECTION:&#xa;â€¢ Spring IoC container&#xa;â€¢ @Autowired dependencies&#xa;â€¢ Configuration beans&#xa;&#xa;ðŸ”§ PROFILES (Environment-specific):&#xa;â€¢ DEV: H2 in-memory, debug logging&#xa;â€¢ PROD: PostgreSQL, optimized settings&#xa;&#xa;ðŸ“‹ DATABASE MIGRATION:&#xa;â€¢ Liquibase changelog system&#xa;â€¢ Version-controlled schema&#xa;â€¢ Rollback capabilities&#xa;&#xa;ðŸ§ª TESTING STRATEGY:&#xa;â€¢ Automated API testing&#xa;â€¢ Cross-platform scripts&#xa;â€¢ Integration testing&#xa;&#xa;ðŸ“š JAVA 17 FEATURES:&#xa;â€¢ Records for DTOs&#xa;â€¢ Text blocks&#xa;â€¢ Pattern matching&#xa;â€¢ Modern Spring Boot 3.x" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="50" y="220" width="250" height="480" as="geometry" />
        </mxCell>
        
        <!-- Technology Stack -->
        <mxCell id="techStack" value="ðŸ› ï¸ STACK TECNOLÃ“GICO:&#xa;&#xa;â˜• Backend:&#xa;â€¢ Java 17 (LTS)&#xa;â€¢ Spring Boot 3.2+&#xa;â€¢ Spring Security 6&#xa;â€¢ Spring Web MVC&#xa;â€¢ Spring Data JDBC&#xa;&#xa;ðŸ” Security:&#xa;â€¢ JWT (JSON Web Tokens)&#xa;â€¢ BCrypt password hashing&#xa;â€¢ CORS support&#xa;&#xa;ðŸ’¾ Database:&#xa;â€¢ H2 (development)&#xa;â€¢ PostgreSQL (production)&#xa;â€¢ Liquibase migrations&#xa;&#xa;ðŸ”§ Tools:&#xa;â€¢ Maven build system&#xa;â€¢ Docker Compose&#xa;â€¢ JdbcClient (Spring 6.1+)&#xa;&#xa;ðŸ§ª Testing:&#xa;â€¢ PowerShell scripts&#xa;â€¢ Bash scripts&#xa;â€¢ cURL automation&#xa;&#xa;ðŸ“‹ Documentation:&#xa;â€¢ Markdown files&#xa;â€¢ DrawIO diagrams&#xa;â€¢ Code comments" style="text;html=1;strokeColor=#666666;fillColor=#f0f8ff;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="1120" y="580" width="210" height="300" as="geometry" />
        </mxCell>
        
        <!-- Data Flow Legend -->
        <mxCell id="dataFlowLegend" value="ðŸ“Š FLUJO DE DATOS:&#xa;&#xa;âž¡ï¸ Request Flow (azul):&#xa;Cliente â†’ Seguridad â†’ Controller â†’ Service â†’ Repository â†’ DB&#xa;&#xa;â¬…ï¸ Response Flow:&#xa;DB â†’ Repository â†’ Service â†’ Controller â†’ Seguridad â†’ Cliente&#xa;&#xa;âš™ï¸ Configuration (naranja):&#xa;Properties files â†’ Components&#xa;&#xa;ðŸ§ª Testing (verde):&#xa;Scripts â†’ API endpoints&#xa;&#xa;ðŸ“‹ Components:&#xa;ðŸŸª Controllers (pÃºrpura)&#xa;ðŸŸ¨ Services (amarillo)&#xa;ðŸŸ© Repository/DB (verde)&#xa;ðŸŸ§ Security (naranja)&#xa;ðŸ”µ Configuration (azul)" style="text;html=1;strokeColor=#333333;fillColor=#ffffcc;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="320" y="790" width="370" height="100" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
